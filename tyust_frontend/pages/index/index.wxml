<wxs src="../../utils/tools.wxs" module="tools"></wxs>

<cu-custom bgColor="bg-transparent" isBack="{{false}}">
  <view slot="content" style="color: #fff;">é¦–é¡µ</view>
</cu-custom>

<view class="page-container">
  <view class="header-bg"></view>

  <view class="content-wrapper">
    <view class="header-area">
      <view class="greeting">
        <view class="greet-title">Hi, {{userName}}</view>
        <view class="greet-sub">ä»Šå¤©ä¹Ÿè¦åŠ æ²¹é¸­ ğŸ¦†</view>
      </view>
      <image class="header-logo" src="../../asset/imgs/logo.png" mode="aspectFit"></image>
    </view>

    <view class="nav-card">
      <view bindtap="nav" data-index="{{index}}" class="nav-item" wx:for="{{navList}}" wx:key="index">
        <view class="icon-box">
          <image class="nav-icon" src="{{item.icon}}" mode="aspectFit"></image>
        </view>
        <view class="nav-title">{{item.title}}</view>
      </view>
    </view>

    <view class="course-card">
      <view class="card-header">
        <view class="header-left">
          <view class="title-main">ä»Šæ—¥è¯¾è¡¨</view>
          <view class="title-sub">ç¬¬{{todayWeeks}}å‘¨ å‘¨{{tools.getWeekText(todayWeek)}}</view>
        </view>
        <view class="header-right-dot"></view>
      </view>

      <view class="card-body">
        <block wx:if="{{todayCourseList.length == 0}}">
          <view class="empty-state">
            <image class="empty-img" src="../../asset/imgs/empty.png" mode="aspectFit"></image>
            <view class="empty-text">ä»Šå¤©æ²¡æœ‰è¯¾ï¼Œå»å›¾ä¹¦é¦†å……å®ä¸€ä¸‹å§~</view>
          </view>
        </block>

        <block wx:else>
          <view class="course-list-modern">
            <view class="course-item-modern" wx:for="{{todayCourseList}}" wx:key="num">
              <view class="item-timeline">
                <view class="timeline-dot"></view>
                <view class="timeline-line"></view>
              </view>
              <view class="item-content">
                <view class="course-name">{{item.name}}</view>
                <view class="course-info">
                  <text class="info-loc">ğŸ“ {{item.address ? item.address : 'æœªçŸ¥åœ°ç‚¹'}}</text>
                  </view>
              </view>
            </view>
          </view>
        </block>
      </view>
    </view>
  </view>
</view>